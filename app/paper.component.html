<div id="scribed" (window:keydown)="keyInput($event)" class="grid"
        [ngGrid]="{'max_cols': 14, 'max_rows': 6, 'row_height': 100, 'draggable': false, 'resizeable': false, 'margins': [5, 5]}" >

    <div  class="pretty grid-item" [ngGridItem]="{'col': 1, 'row': 1, 'sizex': 2, 'sizey': 3}">
        <div *ngFor="let markedString of mathjaxInputStrings; let line = index"
          myMathJax
          class="line-arithmetic"
          [ngClass]="setLineClass(line)"
          [(mathString)]="mathjaxInputStrings[line]"
          (click)="lineClicked(line, $event)"
          >
        </div>
    </div>

    <div class="opButtons grid-item" [ngGridItem]="{'col': 3, 'row': 1, 'sizex': 3, 'sizey': 1}">
        <jk-operator-button [operator]="'addition'" (notify)="addSymbol($event)" [allowHotkeys]="true"></jk-operator-button>
        <jk-operator-button [operator]="'subtraction'" (notify)="addSymbol($event)" [allowHotkeys]="true"></jk-operator-button>
        <jk-operator-button [operator]="'multiplication'" (notify)="addSymbol($event)" [allowHotkeys]="true"></jk-operator-button>
        <jk-operator-button [operator]="'division'" (notify)="addSymbol($event)" [allowHotkeys]="true"></jk-operator-button>
        <jk-operator-button [operator]="'openBracket'" (notify)="addSymbol($event)" [allowHotkeys]="true"></jk-operator-button>
        <jk-operator-button [operator]="'closeBracket'" (notify)="addSymbol($event)" [allowHotkeys]="true"></jk-operator-button>
        <jk-operator-button [operator]="'equals'" (notify)="addSymbol($event)" [allowHotkeys]="true"></jk-operator-button>
    </div>

    <div class="opButtons grid-item" [ngGridItem]="{'col': 3, 'row': 3, 'sizex': 3, 'sizey': 1}">
        <jk-operator-button [operator]="'power'" (notify)="addSymbol($event)" [allowHotkeys]="true"></jk-operator-button>
        <jk-operator-button [operator]="'root'" (notify)="addSymbol($event)" [allowHotkeys]="true"></jk-operator-button>
        <jk-operator-button [operator]="'space'" (notify)="addSymbol($event)" [allowHotkeys]="true"></jk-operator-button>
        <jk-operator-button [operator]="'x'" (notify)="addSymbol($event)" [allowHotkeys]="true"></jk-operator-button>
        <jk-operator-button [operator]="'y'" (notify)="addSymbol($event)" [allowHotkeys]="true"></jk-operator-button>
        <button (click)="toggleHotkeys()">Translate Keys</button> 
    </div>

    <div class="opButtons grid-item" [ngGridItem]="{'col': 1, 'row': 5, 'sizex': 6, 'sizey': 1}">
        <jk-operator-button [operator]="'point'" (notify)="addSymbol($event)"></jk-operator-button>
        <jk-operator-button [operator]="'0'" (notify)="addSymbol($event)"></jk-operator-button>
        <jk-operator-button [operator]="'1'" (notify)="addSymbol($event)"></jk-operator-button>
        <jk-operator-button [operator]="'2'" (notify)="addSymbol($event)"></jk-operator-button>
        <jk-operator-button [operator]="'3'" (notify)="addSymbol($event)"></jk-operator-button>
        <jk-operator-button [operator]="'4'" (notify)="addSymbol($event)"></jk-operator-button>
        <jk-operator-button [operator]="'5'" (notify)="addSymbol($event)"></jk-operator-button>
        <jk-operator-button [operator]="'6'" (notify)="addSymbol($event)"></jk-operator-button>
        <jk-operator-button [operator]="'7'" (notify)="addSymbol($event)"></jk-operator-button>
        <jk-operator-button [operator]="'8'" (notify)="addSymbol($event)"></jk-operator-button>
        <jk-operator-button [operator]="'9'" (notify)="addSymbol($event)"></jk-operator-button>

        <jk-control-button [control]="'enter'"
         [disabled]="lineIsEmpty()"
         (notify)="enter()"></jk-control-button>
    </div>
    <div class="opButtons grid-item" [ngGridItem]="{'col': 1, 'row': 6, 'sizex': 6, 'sizey': 1}">
        <jk-control-button [control]="'left'"
             [disabled]="lineIsEmpty()"
             (notify)="markMove(-1)"></jk-control-button>
        <jk-control-button [control]="'right'"
             [disabled]="lineIsEmpty()"
             (notify)="markMove(1)"></jk-control-button>
         <jk-control-button [control]="'up'"
             [disabled]="lineIndex<=0"
             (notify)="vertical(-1)"></jk-control-button>
         <jk-control-button [control]="'down'"
             [disabled]="lineIndex >= mathjaxInputStrings.length-1"
             (notify)="vertical(1)"></jk-control-button>
         <jk-control-button [control]="'home'"
             [disabled]="lineIsEmpty()"
             (notify)="cursorToStart()"></jk-control-button>
         <jk-control-button [control]="'end'"
             [disabled]="lineIsEmpty()"
             (notify)="cursorToEnd()"></jk-control-button>
    </div>
    <div class="opButtons grid-item" [ngGridItem]="{'col': 1, 'row': 7, 'sizex': 6, 'sizey': 1}">
         <jk-control-button [control]="'deleteLeft'"
             [disabled]="lineIsEmpty()"
             (notify)="remove()"></jk-control-button>
         <jk-control-button [control]="'deleteRight'"
             [disabled]="lineIsEmpty()"
             (notify)="removeNext()"></jk-control-button>
        <jk-control-button [control]="'clear'"
                 [disabled]="lineIsEmpty() && lineIndex == 0"
                 (notify)="clear()"></jk-control-button>
         <jk-control-button [control]="'crossOut'"
             [disabled]="lineIsEmpty()"
             (notify)="crossout()"></jk-control-button>
         <jk-control-button [control]="'deleteCrossed'"
             [disabled]="lineIsEmpty()"
             (notify)="removeCrossout()"></jk-control-button>
         <jk-control-button [control]="'paste'"
             [disabled]="chosen == ''"
             (notify)="paste()"></jk-control-button>
         <jk-control-button [control]="'undo'"
             [disabled]="undoBuffer.length > 0"
             (notify)="undo()"></jk-control-button>
    </div>
</div>
<input [(ngModel)]="mathjaxInputStrings[lineIndex]"/>
