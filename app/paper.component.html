<input #mainFocus id="raw-input" (keyup)="keyInput($event)" [(ngModel)]="rawStrings[lineIndex]"  />
<div id="scribed">

    <div class="pretty">
        <div *ngFor="let markedString of markedStrings; let line = index"
            myMathJax
            class="line-arithmetic"
            [ngClass]="setLineClass(line)"
            [(mathString)]="markedStrings[line]">
        </div>
    </div>

    <div class="nav-buttons">
        <button (click)="markMove(-1)" *ngIf="rawStrings[lineIndex] != ''">&#x2190;</button>
        <button (click)="markMove(+1)" *ngIf="rawStrings[lineIndex] != ''">&#x2192;</button>
        <button (click)="stretchMarked(+1)" *ngIf="rawStrings[lineIndex] != ''">&#x21c9;</button>
        <button (click)="crossout()" *ngIf="rawStrings[lineIndex] != ''"><del>100</del></button> 
        <button (click)="remove()" *ngIf="rawStrings[lineIndex] != ''">remove</button>
        <button (click)="newCopy()" *ngIf="rawStrings[lineIndex] != ''">new copy</button>
        <button (click)="paste()" *ngIf="chosen != ''">paste: {{chosen}}</button> 
        <button (click)="undo()">Undo</button>
        <button (click)="clear(handwriting)">Clear</button>
        <button (click)="vertical(-1)" [disabled]="lineIndex<=0">&#x2b06;</button> 
        <button (click)="vertical(+1)" [disabled]="lineIndex >= rawStrings.length-1">&#x2b07;</button> 

    </div>
</div>
<div>
    <div id="operator-controls">
        <button (click)="addSymbol('+')" >+<br/>p</button> 
        <button (click)="addSymbol('-')" >-<br/>m</button> 
        <button (click)="addSymbol('xx')" >x<br/>t</button> 
        <button (click)="addSymbol('/')" >/<br/>d</button> 
        <button (click)="addSymbol('=')" >=<br/>e</button> 
        <button (click)="addSymbol('(')" >(<br/>o</button> 
        <button (click)="addSymbol(')')" >)<br/>c</button> 
        <button (click)="addSymbol(' ')" >&#x2423;<br>&nbsp;</button>
        <button (click)="addSymbol('^')" >y &#x02e3;<br/>^</button> 
        <button (click)="addSymbol('sqrt')" >&#x221a;<br/>r</button> 
        <button (click)="addSymbol('x')" >ùë•<br/>x</button> 
        <button (click)="addSymbol('y')" >ùë¶<br/>y</button> 
        
        <div id="number-controls">
            <button (click)="addSymbol('.')" >.</button>
            <button (click)="addSymbol('0')" >0</button> 
            <button (click)="addSymbol('1')" >1</button> 
            <button (click)="addSymbol('2')" >2</button> 
            <button (click)="addSymbol('3')" >3</button> 
            <button (click)="addSymbol('4')" >4</button> 
            <button (click)="addSymbol('5')" >5</button> 
            <button (click)="addSymbol('6')" >6</button> 
            <button (click)="addSymbol('7')" >7</button> 
            <button (click)="addSymbol('8')" >8</button> 
            <button (click)="addSymbol('9')" >9</button> 
            <button (click)="enter()" >Enter</button> 
        </div>
    </div>
    <canvas myWriting id="hand-canvas"></canvas>
    <img id="hand-img"/>

    <div id="hand-controls">

        <input id="raw-input" [ngModel]="markedStrings[lineIndex]"  />

        <div id="tokens" round-scroller>
            <div *ngFor="let token of tokens ;let i = index"
                    class="carousel"
                    [attr.id]="'term-' + i"
                    [ngClass]="{'term-selected': i == carouselPick}">
                `{{token.term}}`
            </div>
        </div>
    </div>
</div>
